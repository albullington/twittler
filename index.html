<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="moment.js"></script>
    <link rel="stylesheet" href="stylesheet.css">
  </head>
  <body>
    <section class="grid">
    <script>

      $(document).ready(function(){
        var $body = $('body');
        
        var timer = setInterval(function() {
        var users = streams.users;
        var lastTweetAdded = streams.home.length - 1;
        var lastTweetPosted = $('body').children().length - 1;
        while(lastTweetAdded > lastTweetPosted){
          var tweet = streams.home[lastTweetAdded];
          var $tweet = $('<div class="allTweets"></div>');
          var $user = $('<span></span>');
          $user.addClass(tweet.user);
          $user.text('@' + tweet.user);
          $user.on('click', function(e) {
            //console.log('click worked');
            $(this).addClass('filteredTweet');
            var user = $(this).text().trim();
            //console.log(user);
            var currentUser = $(lastTweetAdded).find(this).text().trim();
            //console.log(currentUser);
            if (currentUser === user) {
              $('currentUser').addClass('filteredTweet');
              $('.filteredTweet').show();
           // } else {
             // $('currentUser').removeClass('filteredTweet').slideUp();
           }
          });
          var timeStamp = moment().format('MMMM Do YYYY, h:mm:ss a');
          $tweet.text(': ' + tweet.message + ' -- ' + timeStamp);
          var wholeTweet = $user.prependTo($tweet);
          $tweet.prependTo($body);
          lastTweetAdded -= 1;
                    
        }
        }, 2000);

      });

    </script>
    </section>
  </body>
</html>

